<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cafetería Universitaria</title>
    <link rel="stylesheet" href="estilos.css">
</head>

<body>
<!-- HEADER -->
<header class="header">
    <button onclick="mostrarSeccion('desayuno')">Desayuno</button>
    <button onclick="mostrarSeccion('comida')">Comida</button>
    <button onclick="mostrarSeccion('bebidas')">Bebidas</button>
    <button onclick="mostrarSeccion('postres')">Postres</button>
    <button onclick="mostrarSeccion('golosinas')">Golosinas</button>
    <button onclick="mostrarSeccion('frutas')">Frutas</button>
</header>

<div class="contenedor">
    <!-- MENÚ -->
    <aside class="menu">
    <!-- DESAYUNO -->
        <div id="desayuno" class="seccion">
            <h3>Desayuno</h3>
            <div class="grid-productos">
                <div class="producto">
                    <img src="huevos_revueltos_a_la_mexicana.jpg">
                    <p class="nombre">Huevo a la mexicana</p>
                    <p class="precio">$45</p>
                    <div class="cantidad">
                        <button onclick="cambiarCantidad('huevos a la mexicana',-1)">-</button>
                        <span id="huevos a la mexicana">1</span>
                        <button onclick="cambiarCantidad('huevos a la mexicana',1)">+</button>
                    </div>
                    <button class="agregar" onclick="agregarPedido('Huevos a la mexicana',45,'huevos a la mexicana')">Añadir</button>
                </div>

                <div class="producto">
                    <img src="hot_cakes.webp">
                    <p class="nombre">Hotcakes</p>
                    <p class="precio">$30</p>
                    <div class="cantidad">
                        <button onclick="cambiarCantidad('hotcakes',-1)">-</button>
                        <span id="hotcakes">1</span>
                        <button onclick="cambiarCantidad('hotcakes',1)">+</button>
                    </div>
                    <button class="agregar" onclick="agregarPedido('Hotcakes',30,'hotcakes')">Añadir</button>
                </div>

                <div class="producto">
                    <img src="omelette.jpg">
                    <p class="nombre">Omelette</p>
                    <p class="precio">$45</p>
                    <div class="cantidad">
                        <button onclick="cambiarCantidad('Omelette',-1)">-</button>
                        <span id="Omelette">1</span>
                        <button onclick="cambiarCantidad('Omelette',1)">+</button>
                    </div>
                    <button class="agregar" onclick="agregarPedido('Omelette',45,'Omelette')">Añadir</button>
                </div>

                <div class="producto">
                    <img src="cup_of_coffee.JPG">
                    <p class="nombre">Café</p>
                    <p class="precio">$25</p>
                    <div class="cantidad">
                        <button onclick="cambiarCantidad('cafe',-1)">-</button>
                        <span id="cafe">1</span>
                        <button onclick="cambiarCantidad('cafe',1)">+</button>
                    </div>
                    <button class="agregar" onclick="agregarPedido('Café',25,'cafe')">Añadir</button>
                </div>
            </div>
        </div>
        <!--POSTRES-->
        <div id="postres" class="seccion">
            <h3>Postres</h3>
            <div class="grid-productos">
                <div class="producto">
                    <img src="Chocoflan.jpg">
                    <p class="nombre">Chocoflan</p>
                    <p class="precio">$25</p>
                    <div class="cantidad">
                        <button onclick="cambiarCantidad('Chocoflan',-1)">-</button>
                        <span id="Chocoflan">1</span>
                        <button onclick="cambiarCantidad('Chocoflan',1)">+</button>
                    </div>
                    <button class="agregar" onclick="agregarPedido('Chocoflan',25,'Chocoflan')">Añadir</button>
                </div>

                <div class="producto">
                    <img src="Gelatina con yogurt.jpg">
                    <p class="nombre">Gelatina con yogurt</p>
                    <p class="precio">$25</p>
                    <div class="cantidad">
                        <button onclick="cambiarCantidad('gelatina con yogurt',-1)">-</button>
                        <span id="gelatina con yogurt">1</span>
                        <button onclick="cambiarCantidad('gelatina con yogurt',1)">+</button>
                    </div>
                    <button class="agregar" onclick="agregarPedido('Gelatina con yogurt',25,'gelatina con yogurt')">Añadir</button>
                </div>

                <div class="producto">
                    <img src="fresas con crema.jpg">
                    <p class="nombre">fresas con crema</p>
                    <p class="precio">$25</p>
                    <div class="cantidad">
                        <button onclick="cambiarCantidad('fresas con crema',-1)">-</button>
                        <span id="fresas con crema">1</span>
                        <button onclick="cambiarCantidad('fresas con crema',1)">+</button>
                    </div>
                    <button class="agregar" onclick="agregarPedido('fresas con crema',25,'fresas con crema')">Añadir</button>
                </div>
            </div>
        </div>
        <!--SECCION DE COMIDA-->
        <div id="comida" class="seccion">
            <h3>Comida</h3>
            <div class="grid-productos">
                <div class="producto">
                    <img src="hamburguesa.jpg">
                    <p class="nombre">Hamburguesa</p>
                    <p class="precio">$50</p>
                    <div class="cantidad">
                        <button onclick="cambiarCantidad('hamburguesa',-1)">-</button>
                        <span id="hamburguesa">1</span>
                        <button onclick="cambiarCantidad('hamburguesa',1)">+</button>
                    </div>
                    <button class="agregar" onclick="agregarPedido('Hamburguesa',50,'hamburguesa')">Añadir</button>
                </div>

                <div class="producto">
                    <img src="Tacos-adobada.jpg">
                    <p class="nombre">Tacos adobada</p>
                    <p class="precio">$45</p>
                    <div class="cantidad">
                        <button onclick="cambiarCantidad('Tacos adobada',-1)">-</button>
                        <span id="Tacos adobada">1</span>
                        <button onclick="cambiarCantidad('Tacos adobada',1)">+</button>
                    </div>
                    <button class="agregar" onclick="agregarPedido('Tacos adobada',45,'Tacos adobada')">Añadir</button>
                </div>

                <div class="producto">
                    <img src="flautas de pollo.jpg">
                    <p class="nombre">Flautas de pollo</p>
                    <p class="precio">$45</p>
                    <div class="cantidad">
                        <button onclick="cambiarCantidad('Flautas',-1)">-</button>
                        <span id="Flautas de pollo">1</span>
                        <button onclick="cambiarCantidad('Flautas de pollo',1)">+</button>
                    </div>
                    <button class="agregar" onclick="agregarPedido('Flautas de pollo',45,'Flautas de pollo')">Añadir</button>
                </div>

            </div>
        </div>

        <!--BEBIDAS-->
        <div id="bebidas" class="seccion">
        <h3>Bebidas</h3>
            <div class="grid-productos">
                <div class="producto">
                    <img src="coca cola.jpg">
                    <p class="nombre">Coca Cola medio litro</p>
                    <p class="precio">$25</p>
                    <div class="cantidad">
                        <button onclick="cambiarCantidad('Coca Cola medio litro',-1)">-</button>
                        <span id="Coca Cola medio litro">1</span>
                        <button onclick="cambiarCantidad('Coca Cola medio litro',1)">+</button>
                    </div>
                    <button class="agregar" onclick="agregarPedido('Coca Cola medio litro',25,'Coca Cola medio litro')">Añadir</button>
                </div>

                <div class="producto">
                    <img src="pepsi.jpg">
                    <p class="nombre">Pepsi lata</p>
                    <p class="precio">$20</p>
                    <div class="cantidad">
                        <button onclick="cambiarCantidad('Pepsi lata',-1)">-</button>
                        <span id="Pepsi lata">1</span>
                        <button onclick="cambiarCantidad('Pepsi lata',1)">+</button>
                    </div>
                    <button class="agregar" onclick="agregarPedido('Pepsi lata',20,'Pepsi lata')">Añadir</button>
                </div>

                <div class="producto">
                    <img src="boing.jpg">
                    <p class="nombre">Boing</p>
                    <p class="precio">$20</p>
                    <div class="cantidad">
                        <button onclick="cambiarCantidad('Boing',-1)">-</button>
                        <span id="Boing">1</span>
                        <button onclick="cambiarCantidad('Boing',1)">+</button>
                    </div>
                    <button class="agregar" onclick="agregarPedido('Boing',20,'Boing')">Añadir</button>
                </div>

                <div class="producto">
                    <img src="Agua de Jamaica.jpg">
                    <p class="nombre">Agua de Jamaica</p>
                    <p class="precio">$20</p>
                    <div class="cantidad">
                        <button onclick="cambiarCantidad('Agua de Jamaica',-1)">-</button>
                        <span id="Agua de Jamaica">1</span>
                        <button onclick="cambiarCantidad('Agua de Jamaica',1)">+</button>
                    </div>
                    <button class="agregar" onclick="agregarPedido('Agua de Jamaica',20,'Agua de Jamaica')">Añadir</button>
                </div>

                <div class="producto">
                    <img src="Agua de Pepino con Limon.jpg">
                    <p class="nombre">Agua de Pepino con Limon</p>
                    <p class="precio">$20</p>
                    <div class="cantidad">
                        <button onclick="cambiarCantidad('Agua de Pepino con Limon',-1)">-</button>
                        <span id="Agua de Pepino con Limon">1</span>
                        <button onclick="cambiarCantidad('Agua de Pepino con Limon',1)">+</button>
                    </div>
                    <button class="agregar" onclick="agregarPedido('Agua de Pepino con Limon',20,'Agua de Pepino con Limon')">Añadir</button>
                </div>

                <div class="producto">
                    <img src="Cafe frio.jpg">
                    <p class="nombre">Cafe frio</p>
                    <p class="precio">$20</p>
                    <div class="cantidad">
                        <button onclick="cambiarCantidad('Cafe frio',-1)">-</button>
                        <span id="Cafe frio">1</span>
                        <button onclick="cambiarCantidad('Cafe frio',1)">+</button>
                    </div>
                    <button class="agregar" onclick="agregarPedido('Cafe frio',20,'Cafe frio')">Añadir</button>
                </div>
            </div>
        </div>

        <!--GOLOSINAS-->
        <div id="golosinas" class="seccion">
            <h3>Golosinas</h3>
            <div class="grid-productos">
                <div class="producto">
                    <img src="chidas.png">
                    <p class="nombre">Chidas</p>
                    <p class="precio">$20</p>
                    <div class="cantidad">
                        <button onclick="cambiarCantidad('Chidas',-1)">-</button>
                        <span id="Chidas">1</span>
                        <button onclick="cambiarCantidad('Chidas',1)">+</button>
                    </div>
                    <button class="agregar" onclick="agregarPedido('Chidas',20,'Chidas')">Añadir</button>
                </div>

                <div class="producto">
                    <img src="Chocolate Carlos V.jpeg">
                    <p class="nombre">Chocolate Carlos V</p>
                    <p class="precio">$15</p>
                    <div class="cantidad">
                        <button onclick="cambiarCantidad('Chocolate Carlos V',-1)">-</button>
                        <span id="Chocolate Carlos V">1</span>
                        <button onclick="cambiarCantidad('Chocolate Carlos V',1)">+</button>
                    </div>
                    <button class="agregar" onclick="agregarPedido('Chocolate Carlos V',15,'Chocolate Carlos V')">Añadir</button>
                </div>

                <div class="producto">
                    <img src="Chocolate Bubulubu.jpg">
                    <p class="nombre">Chocolate Bubulubu</p>
                    <p class="precio">$15</p>
                    <div class="cantidad">
                        <button onclick="cambiarCantidad('Chocolate Bubulubu',-1)">-</button>
                        <span id="Chocolate Bubulubu">1</span>
                        <button onclick="cambiarCantidad('Chocolate Bubulubu',1)">+</button>
                    </div>
                    <button class="agregar" onclick="agregarPedido('Chocolate Bubulubu',15,'Chocolate Bubulubu')">Añadir</button>
                </div>

            </div>
        </div>
        <!--FRUTAS-->
        <div id="frutas" class="seccion">
            <h3>Frutas</h3>
                <div class="grid-productos">
                    <div class="producto">
                        <img src="Coctel de frutas.jpg">
                        <p class="nombre">Coctel de frutas</p>
                        <p class="precio">$25</p>
                        <div class="cantidad">
                            <button onclick="cambiarCantidad('Coctel de frutas',-1)">-</button>
                            <span id="Coctel de frutas">1</span>
                            <button onclick="cambiarCantidad('manzana',1)">+</button>
                        </div>
                        <button class="agregar" onclick="agregarPedido('Coctel de frutas',25,'Coctel de frutas')">Añadir</button>
                    </div>

                    <div class="producto">
                        <img src="Kiwi.jpg">
                        <p class="nombre">Kiwi</p>
                        <p class="precio">$10</p>
                        <div class="cantidad">
                            <button onclick="cambiarCantidad('Kiwi',-1)">-</button>
                            <span id="Kiwi">1</span>
                            <button onclick="cambiarCantidad('Kiwi',1)">+</button>
                        </div>
                        <button class="agregar" onclick="agregarPedido('Kiwi',10,'Kiwi')">Añadir</button>
                    </div>

                    <div class="producto">
                        <img src="Plátano.jpg">
                        <p class="nombre">Plátano</p>
                        <p class="precio">$10</p>
                        <div class="cantidad">
                            <button onclick="cambiarCantidad('Plátano',-1)">-</button>
                            <span id="Plátano">1</span>
                            <button onclick="cambiarCantidad('Plátano',1)">+</button>
                        </div>
                        <button class="agregar" onclick="agregarPedido('Plátano',10,'Plátano')">Añadir</button>
                    </div>
                </div>
        </div>

    </aside>
    <!-- PEDIDO -->
    <main class="pedido">
        <center><h2>Tu pedido</h2></center>
        <ul id="listaPedido"></ul>
        <p class="total">Total: $<span id="total">0</span></p>
       <button class="ordenar" onclick="imprimirTicket()">
            Confirmar e Imprimir
        </button>
    </main>

</div>
<!-- TICKET -->
<div id="ticket" class="ticket">
    <h2>☕ Cafetería Universitaria</h2>
    <p class="fecha" id="fechaTicket"></p>
    <p class="folio">Ticket #<span id="folioTicket"></span></p>
    <hr><ul id="ticketLista"></ul><hr>
    <p class="total-ticket">
        Total: $<span id="ticketTotal">0</span>
    </p>
    <p class="gracias">¡Gracias por tu compra!</p>
</div>

<script>
    let total = 0;
    function agregarPedido(nombre, precio, id){
        let cant = parseInt(document.getElementById(id).textContent);
        let sub = precio * cant;

        let li = document.createElement('li');
        li.classList.add('item-pedido');

        let texto = document.createElement('span');
        texto.textContent = `${nombre} x${cant}`;

        let precioSpan = document.createElement('span');
        precioSpan.textContent = `$${sub}`;

        let btnEliminar = document.createElement('button');
        btnEliminar.textContent = '❌';
        btnEliminar.classList.add('btn-eliminar');

        btnEliminar.onclick = function(){
            li.remove();
            total -= sub;
            if (total < 0) total = 0;
            document.getElementById('total').textContent = total;
        };

        li.appendChild(texto);
        li.appendChild(precioSpan);
        li.appendChild(btnEliminar);

        document.getElementById('listaPedido').appendChild(li);

        total += sub;
        document.getElementById('total').textContent = total;
    }
    function mostrarSeccion(id){
        document.querySelectorAll('.seccion').forEach(s => s.style.display = 'none');
        document.getElementById(id).style.display = 'block';
    }
    function cambiarCantidad(id, cambio){
        let e = document.getElementById(id);
        let v = parseInt(e.textContent) + cambio;
        if(v < 1) v = 1;
        e.textContent = v;
    }

        function imprimirTicket(){
        let lista = document.getElementById('listaPedido');
        let ticketLista = document.getElementById('ticketLista');

        if(lista.children.length === 0){
            alert('No hay productos en el pedido');
            return;
        }

        // Mostrar ticket antes de imprimir
        document.getElementById('ticket').style.display = 'block';

        ticketLista.innerHTML = '';

        [...lista.children].forEach(item => {
            let nombre = item.children[0].textContent;
            let precio = item.children[1].textContent;

            let li = document.createElement('li');
            li.innerHTML = `<span>${nombre}</span><span>${precio}</span>`;
            ticketLista.appendChild(li);
        });

        document.getElementById('ticketTotal').textContent = total;
        document.getElementById('fechaTicket').textContent =
            new Date().toLocaleString();

        // Folio automático
        let folio = localStorage.getItem('folioTicket') || 1;
        document.getElementById('folioTicket').textContent = folio;
        localStorage.setItem('folioTicket', parseInt(folio) + 1);

        // Imprimir
        window.print();

        setTimeout(() =>{
            // Limpiar pedido
        lista.innerHTML = '';
        total = 0;
        document.getElementById('total').textContent = total;

        // Ocultar ticket otra vez
        document.getElementById('ticket').style.display = 'none';
        },500);
        }
</script>

</body>

</html>



